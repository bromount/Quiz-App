<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

</head>
<body>
    <div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div class="progress-bar bg-success" style="width: 100%"></div>
      </div>

    <div class="d-flex justify-content-end float-end">
        <span id="counter"></span>
      </div>
<script>
//   function startTimer(duration, display) {
//     var timer = duration, minutes, seconds;
//     var counter = setInterval(function () {
//         minutes = parseInt(timer / 60, 10);
//         seconds = parseInt(timer % 60, 10);

//         minutes = minutes < 10 ? "0" + minutes : minutes;
//         seconds = seconds < 10 ? "0" + seconds : seconds;

//         display.textContent = minutes + ":" + seconds;

//         if (--timer < 0) {
//             timer = duration;
//             function enable_disable(){
//                 // not("#sumbitButton")
//                 $("#Quiz :input").prop("disabled",true);
//             };
//             enable_disable();
//             clearInterval(counter);
//             alert("Time Up!")
//         }

//         if(minutes < 1){
//             display.style.color = 'red'
//         }
//     }, 1000);
// }


// function progressBar(minutes){
//     value = 100;
//     var progress = setInterval(function(){
//         minutes--;
//         document.querySelector(".progress-bar").style.width= `${value--}%`;
//         if(document.querySelector(".progress-bar").style.width == "30%"){
//             document.querySelector(".progress-bar").classList.remove("bg-success");
//             document.querySelector(".progress-bar").classList.add("bg-danger");
//         };
//         if(minutes<=0){
//             clearInterval(progress);
//         }
//     },1000);
// }

// window.onload = function () {
//     var fiveMinutes = 60 * 0.5;
//     display = document.getElementById('counter');
//     startTimer(fiveMinutes, display);
//     progressBar(fiveMinutes);
// };
  function startTimer(duration, display) {
    var timer = duration, minutes, seconds;
    var counter = setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = minutes + ":" + seconds;

        if (--timer < 0) {
            timer = duration;
            function enable_disable(){
                // not("#sumbitButton")
                $("#Quiz :input").prop("disabled",true);
            };
            enable_disable();
            clearInterval(counter);
            alert("Time Up!")
        }

        if(minutes < 1){
            display.style.color = 'red'
        }
    }, 1000);
}


function progressBar(minutes){
    let interval = 100;
    var countDown = setInterval(()=>{
        interval--;
        let progressWidth = interval/60*100;
        if(interval >0){
            document.querySelector(".progress-bar").style.width = progressWidth+"%";
        }
        else{
            clearInterval(countDown);
            document.querySelector(".progress-bar").style.width = "0%";
        }
    },1000)
    
}

window.onload = function () {
    var Minutes = 60 * 10;
    display = document.getElementById('counter');
    startTimer(Minutes, display);
    progressBar(10);
};
</script>
</script>      
</body>
</html>